{
  "id": "schemata/<%= resource %>",
  "title": "<%= resource.capitalize %>",
  "description": "A description of the <%= resource.titleize %> resource",
  "definitions": {
    "id": {
      "description": "unique identifier of the <%= resource %>",
      "example": "01234567-89ab-cdef-0123-456789abcdef",
      "readOnly": true,
      "format": "uuid",
      "type": ["string"]
    },
    "name": {
      "description": "unique name of the <%= resource.titleize %>",
      "example": "name",
      "readOnly": true,
      "type": ["string"]
    },
    "created_at": {
      "description": "when the <%= resource.titleize %> was created",
      "example": "2012-01-01T12:00:00Z",
      "format": "date-time",
      "type": ["string"]
    },
    "updated_at": {
      "description": "when the <%= resource.titleize %> was last updated",
      "example": "2012-01-01T12:00:00Z",
      "format": "date-time",
      "type": ["string"]
    }
  },
  "properties": {
    "created_at": {
      "$ref": "/schemata/<%= resource %>#/definitions/created_at"
    },
    "id": {
      "$ref": "/schemata/<%= resource %>#/definitions/id"
    },
    "name": {
      "$ref": "/schemata/<%= resource %>#/definitions/name"
    },
    "updated_at": {
      "$ref": "/schemata/<%= resource %>#/definitions/updated_at"
    }
  },
  "links": [<% if level >= 2 %>
    <% if parent && level >= 3 %>
    {
      "description": "Create a new <%= resource.titleize %>.",
      "href": "/<%= parent %>s/{(%2Fschemata%2F<%= parent %>%23%2Fdefinitions%2Fid)}/<%= resource %>s",
      "method": "POST",
      "rel": "create",
      "schema": {
        "properties": {},
        "type": ["object"]
      },
      "title": "Create"
    }<% else %>
    {
      "description": "Create a new <%= resource.titleize %>.",
      "href": "/<%= resource %>s",
      "method": "POST",
      "rel": "create",
      "schema": {
        "properties": {},
        "type": ["object"]
      },
      "title": "Create"
    }<% end %>
    <% if level >=3 %>,{
      "description": "Info for an existing <%= resource.titleize %>.",
      "href": "/<%= resource %>s/{(%2Fschemata%2F<%= resource %>%23%2Fdefinitions%2Fid)}",
      "method": "GET",
      "rel": "self",
      "title": "Info"
    },
    <% if parent %>
    {
      "description": "List existing <%= resource.titleize %>s for existing <%= parent.titleize %>.",
      "href": "/<%= parent %>s/{(%2Fschemata%2F<%= parent %>%23%2Fdefinitions%2Fid)}/<%= resource %>s",
      "method": "GET",
      "rel": "instances",
      "title": "List"
    }<% else %>
    {
      "description": "List existing <%= resource.titleize %>s.",
      "href": "/<%= resource %>s",
      "method": "GET",
      "rel": "instances",
      "title": "List"
    }<% end %>,
    {
      "description": "Update an existing <%= resource.titleize %>.",
      "href": "/<%= resource %>s/{(%2Fschemata%2F<%= resource %>%23%2Fdefinitions%2Fid)}",
      "method": "PUT",
      "rel": "update",
      "schema": {
        "properties": {},
        "type": ["object"]
      },
      "title": "Update"
    },
    {
      "description": "Delete an existing <%= resource.titleize %>.",
      "href": "/<%= resource %>s/{(%2Fschemata%2F<%= resource %>%23%2Fdefinitions%2Fid)}",
      "method": "DELETE",
      "rel": "destroy",
      "title": "Delete"
    }<% end %>
  <% end %>]
}
