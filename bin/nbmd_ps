#!/usr/bin/env ruby
require 'optparse'

# bin/myfirstgem - command for following
lib = File.expand_path('../../lib', __FILE__)
$LOAD_PATH.unshift(lib) unless $LOAD_PATH.include?(lib)

# Get actual file
_file = File.symlink?(__FILE__) ? File.readlink(__FILE__) : __FILE__

# Load install gem
# In case of error, attempt to load local gem
begin
  require 'nbmd_ps'
  require 'nbmd_ps/cli'
rescue LoadError
  # Try to add local gem to load path
  #path = File.expand_path("../lib", _file)
  path = File.expand_path(lib, _file)
  if File.exists?("#{path}/nbmd_ps.rb")
    $:.push path
    retry
  end
  raise
end

